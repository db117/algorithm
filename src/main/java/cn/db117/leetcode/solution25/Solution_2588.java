

//ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„æ•´æ•°æ•°ç»„nums ã€‚æ¯æ¬¡æ“ä½œä¸­ï¼Œä½ å¯ä»¥ï¼š 
//
// 
// é€‰æ‹©ä¸¤ä¸ªæ»¡è¶³ 0 <= i, j < nums.length çš„ä¸åŒä¸‹æ ‡ i å’Œ j ã€‚ 
// é€‰æ‹©ä¸€ä¸ªéè´Ÿæ•´æ•° k ï¼Œæ»¡è¶³ nums[i] å’Œ nums[j] åœ¨äºŒè¿›åˆ¶ä¸‹çš„ç¬¬ k ä½ï¼ˆä¸‹æ ‡ç¼–å·ä» 0 å¼€å§‹ï¼‰æ˜¯ 1 ã€‚ 
// å°† nums[i] å’Œ nums[j] éƒ½å‡å» 2áµ ã€‚ 
// 
//
// å¦‚æœä¸€ä¸ªå­æ•°ç»„å†…æ‰§è¡Œä¸Šè¿°æ“ä½œè‹¥å¹²æ¬¡åï¼Œè¯¥å­æ•°ç»„å¯ä»¥å˜æˆä¸€ä¸ªå…¨ä¸º 0 çš„æ•°ç»„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°å®ƒæ˜¯ä¸€ä¸ª ç¾ä¸½ çš„å­æ•°ç»„ã€‚ 
//
// è¯·ä½ è¿”å›æ•°ç»„ nums ä¸­ ç¾ä¸½å­æ•°ç»„ çš„æ•°ç›®ã€‚ 
//
// å­æ•°ç»„æ˜¯ä¸€ä¸ªæ•°ç»„ä¸­ä¸€æ®µè¿ç»­ éç©º çš„å…ƒç´ åºåˆ—ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [4,3,1,2,4]
//è¾“å‡ºï¼š2
//è§£é‡Šï¼šnums ä¸­æœ‰ 2 ä¸ªç¾ä¸½å­æ•°ç»„ï¼š[4,3,1,2,4] å’Œ [4,3,1,2,4] ã€‚
//- æŒ‰ç…§ä¸‹è¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†å­æ•°ç»„ [3,1,2] ä¸­æ‰€æœ‰å…ƒç´ å˜æˆ 0 ï¼š
//  - é€‰æ‹© [3, 1, 2] å’Œ k = 1 ã€‚å°† 2 ä¸ªæ•°å­—éƒ½å‡å» 2Â¹ ï¼Œå­æ•°ç»„å˜æˆ [1, 1, 0] ã€‚
//  - é€‰æ‹© [1, 1, 0] å’Œ k = 0 ã€‚å°† 2 ä¸ªæ•°å­—éƒ½å‡å» 2â° ï¼Œå­æ•°ç»„å˜æˆ [0, 0, 0] ã€‚
//- æŒ‰ç…§ä¸‹è¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†å­æ•°ç»„ [4,3,1,2,4] ä¸­æ‰€æœ‰å…ƒç´ å˜æˆ 0 ï¼š
//  - é€‰æ‹© [4, 3, 1, 2, 4] å’Œ k = 2 ã€‚å°† 2 ä¸ªæ•°å­—éƒ½å‡å» 2Â² ï¼Œå­æ•°ç»„å˜æˆ [0, 3, 1, 2, 0] ã€‚
//  - é€‰æ‹© [0, 3, 1, 2, 0] å’Œ k = 0 ã€‚å°† 2 ä¸ªæ•°å­—éƒ½å‡å» 2â° ï¼Œå­æ•°ç»„å˜æˆ [0, 2, 0, 2, 0] ã€‚
//  - é€‰æ‹© [0, 2, 0, 2, 0] å’Œ k = 1 ã€‚å°† 2 ä¸ªæ•°å­—éƒ½å‡å» 2Â¹ ï¼Œå­æ•°ç»„å˜æˆ [0, 0, 0, 0, 0] ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [1,10,4]
//è¾“å‡ºï¼š0
//è§£é‡Šï¼šnums ä¸­æ²¡æœ‰ä»»ä½•ç¾ä¸½å­æ•°ç»„ã€‚
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= nums.length <= 10âµ 
// 0 <= nums[i] <= 10â¶ 
// 
//
// Related Topics ä½è¿ç®— æ•°ç»„ å“ˆå¸Œè¡¨ å‰ç¼€å’Œ ğŸ‘ 20 ğŸ‘ 0


package cn.db117.leetcode.solution25;

import java.util.HashMap;
import java.util.Map;

/**
 * 2588.ç»Ÿè®¡ç¾ä¸½å­æ•°ç»„æ•°ç›®.count-the-number-of-beautiful-subarrays
 *
 * @author db117
 * @since 2023-03-14 15:00:54
 **/

public class Solution_2588 {
    public static void main(String[] args) {
        Solution solution = new Solution_2588().new Solution();
    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        public long beautifulSubarrays(int[] nums) {
            long ans = 0;
            int n = nums.length;
            // ä¸€ä¸ªå­æ•°ç»„æ˜¯ç¾ä¸½æ•°ç»„ï¼Œåˆ™æ¯ä¸€ä¸ª bit ä½çš„å’Œè‚¯å®šæ˜¯å¶æ•°ï¼Œé‚£ä¹ˆç›´æ¥ç”¨å‰ç¼€å¼‚æˆ–å’Œè®°å½•å½“å‰ä½ç½®å‡ºç°çš„ bit æ•°é‡å¥‡å¶æ€§
            // å‰ç¼€å¼‚æˆ–å’Œ
            int[] xor = new int[n + 1];
            for (int i = 0; i < n; i++) {
                xor[i + 1] = xor[i] ^ nums[i];
            }
            // å‰é¢å½“å‰æ•°å­—å‡ºç°çš„æ¬¡æ•°
            Map<Integer, Integer> map = new HashMap<>();
            for (int i : xor) {
                // å‰é¢æœ‰å¤šå°‘ä¸ªå¼‚æˆ–å’Œ å’Œå½“å‰å½¢åŒï¼Œåˆ™å¯ä»¥ç»„æˆå¤šå°‘ä¸ªç¾ä¸½æ•°ç»„
                ans += map.getOrDefault(i, 0);
                map.merge(i, 1, Integer::sum);// ç´¯åŠ 
            }
            return ans;
        }
    }
//leetcode submit region end(Prohibit modification and deletion)

}